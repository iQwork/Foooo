<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أطلب خدمات المطاعم | وجهتك للتوصيل الموثوق</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Aref+Ruqaa&display=swap" rel="stylesheet">
    <style>
    /* إخفاء أيقونات المطاعم في الشعارات إذا لم تكن مطلوبة */
    .logo .delivery-icon,
    .nav-logo .delivery-icon,
    .footer-logo .delivery-icon {
        display: none;
    }

    /* تعريف المتغيرات الأساسية للألوان والانتقالات والظلال */
    :root {
        --primary-color: #2c3e50; /* أزرق داكن/رمادي لأساس التصميم */
        --secondary-color: #e74c3c; /* أحمر جذاب للتمييز */
        --accent-color: #3498db; /* أزرق فاتح للتركيز */
        --light-color: #ecf0f1; /* لون فاتح للنصوص والخلفيات الخفيفة */
        --dark-color: #1e2029; /* لون داكن جداً للنصوص الرئيسية والخلفيات الداكنة */
        --overlay-color: rgba(0, 0, 0, 0.8); /* طبقة شفافة سوداء أغمق قليلاً */
        --transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1); /* انتقال سلس */
        --fast-transition: all 0.3s ease; /* انتقال سريع */
        --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.2); /* ظل أصغر وأكثر نعومة */
        --glass-effect: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05)); /* تأثير الزجاج */

        /* New Gradient for pulsating effect (Specific to Lightbox) */
        --lb-gradient-1: linear-gradient(90deg, #FF6B6B, #556270); /* Warm to Cool */
        --lb-gradient-2: linear-gradient(90deg, #F06292, #BA68C8); /* Pink to Purple */
        --lb-gradient-3: linear-gradient(90deg, #4DB6AC, #26A69A); /* Teal to Dark Teal */
        --lb-gradient-4: linear-gradient(90deg, #FFD54F, #FF8A65); /* Yellow to Orange */
    }

    /* إعادة تعيين الأنماط الافتراضية للعناصر */
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: 'Tajawal', sans-serif;
    }

    /* أنماط الجسم الأساسية */
    body {
        background-color: #f8f9fa;
        color: var(--dark-color);
        overflow-x: hidden;
        line-height: 1.6;
        font-size: 0.95rem; /* حجم الخط الأساسي أصغر قليلاً */
    }

    /* شاشة البداية (Splash Screen) */
    .splash-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        transition: opacity 1s ease, visibility 1s ease;
    }

    .splash-screen.hidden {
        opacity: 0;
        visibility: hidden;
    }

    .logo {
        font-size: 3.5rem;
        font-weight: 900;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 2rem;
        text-align: center;
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 1s ease forwards 0.5s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
    }

    /* حركة أيقونة المطاعم في شاشة البداية */
    @keyframes bounceAndRotate {
        0%, 100% {
            transform: translateY(0) rotate(0deg);
        }
        50% {
            transform: translateY(-10px) rotate(10deg);
        }
    }

    .loading-container {
        width: 300px;
        height: 4px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        overflow: hidden;
        opacity: 0;
        animation: fadeIn 0.8s ease forwards 1s;
    }

    .loading-bar {
        height: 100%;
        width: 0;
        background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
        transition: width 2.5s ease;
        border-radius: 4px;
    }

    /* حركات عامة */
    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fadeIn {
        to {
            opacity: 1;
        }
    }

    /* الحاوية الرئيسية للتطبيق */
    .app-container {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }

    /* شريط التنقل (Navigation Bar) */
    .nav-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 70px;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 900;
        backdrop-filter: blur(8px);
        background: rgba(42, 45, 59, 0.8);
        box-shadow: 0 3px 15px rgba(0, 0, 0, 0.15);
        padding: 0 25px;
    }

    .nav-logo {
        font-size: 1.6rem;
        font-weight: 700;
        color: var(--light-color);
        margin-right: auto;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    /* قسم البطل (Hero Section) - منطقة الهبوط الرئيسية */
    .hero-section {
        position: relative;
        padding: 100px 25px 70px;
        background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
        color: white;
        text-align: center;
        margin-bottom: 40px;
        /* تم إزالة clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%); لجعل الحافة مستقيمة */
        min-height: 75vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .hero-content {
        max-width: 800px;
        margin: 0 auto;
        position: relative;
        z-index: 2;
        opacity: 0;
        animation: fadeIn 1.2s ease forwards 0.5s;
    }

    .hero-content h1 {
        font-size: 3rem;
        margin-bottom: 1.2rem;
        font-weight: 900;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        animation: fadeInSlideUp 1s ease forwards 0.8s; /* حركة ظهور أكثر سلاسة */
    }

    .hero-content .main-description {
        font-size: 1.2rem;
        margin-bottom: 1.8rem;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInSlideUp 0.8s ease forwards 1.3s;
    }

    /* حركة الظهور لأعلى */
    @keyframes fadeInSlideUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animated-text-container {
        position: relative;
        margin-bottom: 1.8rem;
        height: auto;
        text-align: justify;
        direction: rtl;
        perspective: 1000px;
    }

    .animated-text-layer {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 18px 25px;
        margin-bottom: 12px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(5px);
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
        text-align: justify;
        line-height: 1.7;
    }

    .animated-text-layer p {
        font-size: 0.95rem;
        color: var(--light-color);
        margin: 0;
    }

    .animated-text-layer:nth-child(1) { animation: fadeInSlideUp 0.8s ease forwards 2s; }
    .animated-text-layer:nth-child(2) { animation: fadeInSlideUp 0.8s ease forwards 2.3s; }
    .animated-text-layer:nth-child(3) { animation: fadeInSlideUp 0.8s ease forwards 2.6s; }
    .animated-text-layer:nth-child(4) { animation: fadeInSlideUp 0.8s ease forwards 2.9s; }

    @keyframes bounceIn { /* لم تعد تُستخدم مباشرة لـ h1 ولكن تظل موجودة إذا كانت هناك عناصر أخرى تستخدمها */
        0% { transform: scale(0.3); opacity: 0; }
        50% { transform: scale(1.1); opacity: 1; }
        70% { transform: scale(0.9); }
        100% { transform: scale(1); opacity: 1; }
    }

    /* حاوية نص التوجيه "للعثور على السائق الأنسب لكم..." */
    .hero-end-text-container {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--light-color);
        margin-top: 30px;
        opacity: 0;
        transform: translateY(0); /* التأكد من عدم وجود ميل في البداية */
        animation: fadeInSlideUp 0.8s ease forwards 3.2s;
        text-shadow: 0 0 10px rgba(0,0,0,0.5);
        padding: 15px 25px;
        background: var(--glass-effect);
        border-radius: 15px;
        border: 1px solid rgba(255,255,255,0.15);
        box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        animation: pulse-glow 2s infinite alternate ease-in-out;
        display: block; /* لضمان عمل الانتقال */
    }

    .hero-end-text-container.hidden {
        opacity: 0 !important;
        transform: translateY(20px) !important;
        pointer-events: none; /* تعطيل التفاعل عندما يكون مخفياً */
        display: none; /* إخفائه تماماً من التدفق عند إخفائه */
    }

    @keyframes pulse-glow {
        0% {
            box-shadow: 0 5px 20px rgba(0,0,0,0.3), 0 0 0px var(--accent-color);
        }
        100% {
            box-shadow: 0 5px 25px rgba(0,0,0,0.4), 0 0 15px var(--accent-color);
        }
    }

    /* حاوية الصورة والآية القرآنية */
    .islamic-feature-area {
        margin-top: 40px;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        opacity: 0;
        transform: translateY(0); /* التأكد من عدم وجود ميل في البداية */
        animation: fadeInSlideUp 1s ease forwards 3.5s;
    }

    /* الصورة (sss.jpg) - ثابتة وبدون توهج وبحجمها الطبيعي */
    .islamic-feature-image {
        max-width: 450px; /* حجم كبير وواضح */
        height: auto; /* لضمان الحفاظ على نسبة العرض إلى الارتفاع */
        display: block; /* لضمان التعامل معها ككتلة */
        margin: 0 auto; /* لتوسيط الصورة */
        mix-blend-mode: multiply; /* يساعد في دمج الخلفية البيضاء للصورة مع الخلفية الداكنة */
        background-color: transparent; /* تأكد من عدم وجود خلفية مفروضة */
        /* تم إزالة animation هنا لجعلها ثابتة */
    }

    /* الآية القرآنية */
    .quranic-line {
        font-family: 'Aref Ruqaa', serif; /* خط عربي أنيق */
        font-size: 1.8rem;
        color: var(--accent-color);
        margin-top: 25px;
        margin-bottom: 15px;
        text-shadow: none; /* إزالة أي ظل نصي قد يظهر مائلاً */
        line-height: 1.5;
    }

    /* نص الرؤية (معاً نحو مستقبل أفضل) */
    .vision-text {
        font-size: 1.1rem;
        color: var(--light-color);
        margin-top: 10px;
        font-weight: 500;
        text-shadow: none; /* إزالة أي ظل نصي قد يظهر مائلاً */
    }

    /* حاوية النص الطويل الجديد (قسم خدمات المطاعم قطاع العراق الخاص) */
    .main-call-to-action-text-container {
        font-size: 1rem;
        color: var(--light-color);
        text-align: justify;
        line-height: 1.8;
        margin: 40px auto;
        max-width: 700px;
        padding: 30px; /* زيادة التباعد الداخلي */
        background: radial-gradient(circle at top right, rgba(52, 152, 219, 0.2), rgba(28, 30, 38, 0.95)); /* خلفية متدرجة أغمق وأكثر احترافية */
        border-radius: 20px; /* زوايا دائرية أكبر */
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), inset 0 0 10px rgba(255, 255, 255, 0.1); /* ظل أكبر مع حدود داخلية خفيفة */
        backdrop-filter: blur(20px) brightness(1.2) contrast(1.1); /* تمويه أقوى وتشبع لوني */
        border: 2px solid rgba(255, 255, 255, 0.15); /* حد أبيض شفاف خفيف */
        opacity: 0;
        transform: translateY(30px) perspective(800px) rotateX(8deg); /* تأثير ثلاثي الأبعاد خفيف عند الظهور */
        animation: fadeInSlideUpRotated 0.8s ease forwards 4.2s; /* استخدام حركة جديدة */
        transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1); /* انتقال سلس لجميع الخصائص */
        position: relative; /* مهم للزر المطلق */
        overflow: hidden; /* لإخفاء أي جزء من الظل أو التوهج يخرج عن الحاوية */
    }

    /* حركة الظهور لأعلى مع دوران خفيف */
    @keyframes fadeInSlideUpRotated {
        to {
            opacity: 1;
            transform: translateY(0) perspective(800px) rotateX(0deg);
        }
    }

    /* الطبقات الداخلية للنص الطويل لتمييزها */
    .main-call-to-action-text-container .section-heading-new {
        font-size: 1.8rem; /* حجم أكبر للعنوان */
        font-weight: 800; /* خط أسمك */
        background: linear-gradient(45deg, var(--secondary-color), var(--accent-color)); /* تدرج لوني للعنوان */
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent; /* لجعل التدرج مرئياً */
        margin-bottom: 25px; /* مسافة أكبر أسفل العنوان */
        text-align: center;
        position: relative;
        padding-bottom: 15px;
    }

    .main-call-to-action-text-container .section-heading-new::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px; /* خط أطول قليلاً */
        height: 4px; /* خط أسمك */
        background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
        border-radius: 2px;
    }

    .main-call-to-action-text-container .text-layer {
        background: rgba(255, 255, 255, 0.08); /* خلفية أفتح قليلاً للطبقات الداخلية */
        padding: 20px; /* تباعد داخلي أكبر */
        border-radius: 12px; /* زوايا دائرية أكبر */
        margin-bottom: 20px; /* مسافة أكبر بين الطبقات */
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4), inset 0 0 8px rgba(255, 255, 255, 0.08); /* ظل مع توهج داخلي */
        backdrop-filter: blur(8px); /* تمويه إضافي للطبقات */
        border: 1px solid rgba(255, 255, 255, 0.15); /* حد أبيض شفاف */
        transition: transform 0.3s ease, box-shadow 0.3s ease; /* إضافة انتقال عند التمرير */
        text-align: justify; /* لضمان محاذاة النص justify */
    }

    .main-call-to-action-text-container .text-layer:last-of-type {
        margin-bottom: 0; /* إزالة الهامش السفلي لآخر طبقة */
    }

    .main-call-to-action-text-container .text-layer:hover {
        transform: translateY(-5px); /* حركة رفع عند التمرير */
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.5), inset 0 0 12px rgba(255, 255, 255, 0.1);
    }

    .main-call-to-action-text-container .text-layer p {
        color: var(--light-color); /* التأكد من لون النص الفاتح */
        font-size: 0.98rem; /* تعديل حجم الخط قليلاً */
        line-height: 1.7; /* مسافات أسطر مريحة */
    }

    .main-call-to-action-text-container .highlight-bold {
        font-weight: 900; /* خط أسمك جداً للتمييز */
        color: var(--secondary-color); /* لون التمييز الأحمر الجذاب */
        text-shadow: 0 0 12px rgba(231, 76, 60, 0.9); /* توهج حول النص المميز */
        transition: text-shadow 0.3s ease;
    }

    .main-call-to-action-text-container .highlight-bold:hover {
        text-shadow: 0 0 20px rgba(231, 76, 60, 1);
    }

    /* الزر الاحترافي الجديد لـ "تصفح المحافظات" داخل حاوية النص الطويل */
    #browse-provinces-instruction {
        display: inline-block; /* ليتصرف كزر ويمكن تطبيق البادينغ والظلال */
        margin-top: 30px; /* مسافة من المحتوى العلوي */
        padding: 15px 30px; /* تباعد داخلي كبير لجعله زرًا واضحًا */
        background: linear-gradient(90deg, #3498db, #e74c3c); /* تدرج لوني جذاب */
        color: white;
        font-size: 1.2rem; /* حجم خط أكبر */
        font-weight: 700; /* خط سميك */
        border-radius: 50px; /* زوايا دائرية جدًا تشبه حبوب الدواء */
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5), 0 0 25px rgba(52, 152, 219, 0.8); /* ظل عميق مع توهج لوني */
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* انتقال ارتدادي سلس */
        text-align: center;
        text-decoration: none; /* إزالة أي خطوط تحت النص */
        animation: glow-pulse 2s infinite alternate ease-in-out; /* حركة توهج ونبض */
        border: none; /* إزالة الحدود الافتراضية للزر */
        display: block; /* لكي يأخذ كامل العرض المتاح له */
        width: fit-content; /* عرض على قد المحتوى */
        margin-left: auto;
        margin-right: auto; /* لتوسيط الزر */
    }

    /* حركة التوهج والنبض لزر "تصفح المحافظات" */
    @keyframes glow-pulse {
        0% {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5), 0 0 25px rgba(52, 152, 219, 0.8);
            transform: translateY(0) scale(1);
        }
        50% {
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.6), 0 0 35px rgba(231, 76, 60, 0.9);
            transform: translateY(-5px) scale(1.02);
        }
        100% {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5), 0 0 25px rgba(52, 152, 219, 0.8);
            transform: translateY(0) scale(1);
        }
    }

    #browse-provinces-instruction:hover {
        background: linear-gradient(90deg, #288fca, #c0392b); /* تغيير طفيف في التدرج عند التمرير */
        transform: translateY(-8px) scale(1.05); /* رفع أكبر وتكبير أكثر */
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6), 0 0 40px rgba(231, 76, 60, 1); /* ظل وتوهج أقوى */
        animation: none; /* إيقاف الحركة عند التمرير */
    }

    #browse-provinces-instruction p {
        color: white !important; /* التأكد من أن النص أبيض */
        font-weight: 700;
        margin: 0; /* إزالة أي هوامش داخلية من عنصر الفقرة */
    }

    /* كلاس لإخفاء العناصر */
    .main-call-to-action-text-container.hidden {
        opacity: 0 !important;
        transform: translateY(20px) !important;
        pointer-events: none; /* تعطيل التفاعل عندما يكون مخفياً */
        display: none; /* إخفائه تماماً من التدفق */
    }

    /* المحتوى الرئيسي (لفئات السائقين) */
    .main-content {
        flex: 1;
        padding-top: 40px;
    }

    /* أقسام الفئات (المحافظات) */
    .category-section {
        display: none; /* مخفي افتراضياً */
        padding: 40px 25px;
        animation: fadeIn 0.8s ease;
        text-align: right;
        direction: rtl;
    }

    .category-section.active {
        display: block;
    }

    .section-title {
        text-align: center;
        margin-bottom: 35px;
        font-size: 2.3rem;
        font-weight: 700;
        position: relative;
        padding-bottom: 15px;
    }

    .section-title::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%); /* هذا يجعل الخط مستقيماً أفقياً */
        width: 70px;
        height: 3px;
        background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
        border-radius: 2px;
    }

    /* شبكة المعرض (لكروت السائقين) */
    .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 20px;
        justify-content: center;
    }

    .gallery-item {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: var(--shadow-lg);
        transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 0.4s ease;
        aspect-ratio: 3/4;
        display: flex;
        flex-direction: column;
        position: relative;
        cursor: pointer;
    }

    .gallery-item:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.3);
    }

    .gallery-img-wrapper {
        flex-grow: 1;
        position: relative;
        overflow: hidden;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: var(--primary-color);
    }

    .gallery-img {
        width: 80%;
        height: 80%;
        object-fit: cover;
        display: block;
        border-radius: 50%;
        transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), border-radius 0.4s ease;
        position: relative;
        z-index: 1;
        border: 5px solid var(--accent-color);
        box-shadow: 0 0 15px rgba(52, 152, 219, 0.5);
    }

    .gallery-item:hover .gallery-img {
        transform: scale(1.08);
        border-color: var(--secondary-color);
        box-shadow: 0 0 25px rgba(231, 76, 60, 0.7);
    }

    .img-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.4);
        opacity: 0;
        transition: opacity 0.4s ease;
        z-index: 2;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        color: white;
        font-size: 1.4rem;
        font-weight: 700;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        border-radius: 12px;
    }

    .gallery-item:hover .img-overlay {
        opacity: 1;
    }

    .driver-info-preview {
        background-color: var(--primary-color);
        color: var(--light-color);
        padding: 12px;
        font-size: 1rem;
        font-weight: 700;
        text-align: center;
        display: block;
        overflow: hidden;
        border-top: 1px solid rgba(255,255,255,0.1);
        direction: rtl;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }
    .driver-info-preview h3 {
        margin: 0 0 4px;
        font-size: 1.2em;
        color: var(--light-color);
        opacity: 0.9;
    }
    .driver-info-preview p {
        margin: 0;
        font-size: 0.9em;
        color: var(--light-color);
        opacity: 0.8;
        line-height: 1.4;
    }

/* اللايت بوكس (Lightbox) - تفاصيل السائق */
.lightbox {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95); /* Darker overlay for dramatic effect */
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    backdrop-filter: blur(15px); /* Stronger blur */
    padding: 20px;
    opacity: 0; /* Start hidden for entrance animation */
    transition: opacity 0.5s ease-out; /* Fade in for the whole lightbox */
}

.lightbox.active {
    display: flex;
    opacity: 1;
}

.lightbox-content {
    position: relative;
    max-width: 420px; /* Slightly larger for content */
    background: linear-gradient(160deg, #1A1A2E, #16213E, #0F3460); /* Deep, luxurious dark blue gradient */
    border-radius: 25px; /* More rounded */
    box-shadow: 0 25px 70px rgba(0, 0, 0, 0.8), 0 0 40px rgba(255, 255, 255, 0.15) inset; /* Stronger shadow with inner light */
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 30px; /* More padding */
    color: #E0E0E0; /* Lighter text for contrast */
    text-align: center;
    transform: scale(0.8); /* Start smaller for scale animation */
    opacity: 0; /* Start hidden for content animation */
    transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1); /* Main content animation */
}

.lightbox.active .lightbox-content {
    transform: scale(1); /* Scale up on active */
    opacity: 1;
}

/* Animated border for the driver image - Hypnotic Gradient */
@keyframes lb-gradient-border-pulse {
    0% { border-image: var(--lb-gradient-1) 1; box-shadow: 0 0 20px rgba(173, 216, 230, 0.9), inset 0 0 10px rgba(255, 255, 255, 0.2); }
    25% { border-image: var(--lb-gradient-2) 1; box-shadow: 0 0 25px rgba(240, 98, 146, 0.9), inset 0 0 12px rgba(255, 255, 255, 0.25); }
    50% { border-image: var(--lb-gradient-3) 1; box-shadow: 0 0 30px rgba(77, 182, 172, 0.9), inset 0 0 15px rgba(255, 255, 255, 0.3); }
    75% { border-image: var(--lb-gradient-4) 1; box-shadow: 0 0 25px rgba(255, 213, 79, 0.9), inset 0 0 12px rgba(255, 255, 255, 0.25); }
    100% { border-image: var(--lb-gradient-1) 1; box-shadow: 0 0 20px rgba(173, 216, 230, 0.9), inset 0 0 10px rgba(255, 255, 255, 0.2); }
}

/* Modified CSS for square image and border */
.lightbox-driver-img-wrapper {
    width: 180px; /* Set a fixed width */
    height: 180px; /* Set a fixed height to make it square */
    border-radius: 20px; /* Slightly more rounded corners */
    border: 8px solid transparent;
    margin-bottom: 35px; /* More space */
    transition: transform 0.4s ease-out, box-shadow 0.4s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    background-color: #1A1A2E;
    box-sizing: border-box; /* Include padding and border in the element's total width and height */
    opacity: 0; /* Hidden initially */
    transform: translateY(30px) scale(0.7); /* Start from below and smaller */
}

.lightbox.active .lightbox-driver-img-wrapper {
    animation: lb-gradient-border-pulse 10s linear infinite, lb-slideInScale 0.6s ease forwards 0.2s; /* Apply two animations */
}

@keyframes lb-slideInScale {
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.lightbox-driver-img-wrapper:hover {
    transform: scale(1.07); /* More pronounced scale */
    box-shadow: 0 0 60px rgba(255, 107, 107, 0.9), inset 0 0 25px rgba(255, 255, 255, 0.4); /* Stronger glow */
}

.lightbox-driver-img {
    width: 100%; /* Fills the square wrapper */
    height: 100%; /* Fills the square wrapper */
    object-fit: cover;
    border-radius: 15px; /* Match the border-radius of the wrapper for a square image */
    border: none;
    box-shadow: none;
    animation: none;
}
 
/* Info layers for driver details */
.lightbox-info {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 15px; /* Space between info layers */
}

.info-layer {
    background: rgba(255, 255, 255, 0.05); /* Subtle transparent background */
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 15px 20px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4), inset 0 0 8px rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(5px);
    transition: all 0.3s ease;
    opacity: 0; /* Start hidden for staggered animation */
    transform: translateY(20px); /* Start below for slide-up effect */
}

/* Staggered animation for info layers */
.lightbox.active .lightbox-driver-name { animation: lb-slideIn 0.6s ease forwards 0.4s; }
.lightbox.active .lightbox-driver-age { animation: lb-slideIn 0.6s ease forwards 0.5s; }
.lightbox.active .lightbox-driver-description { animation: lb-slideIn 0.6s ease forwards 0.6s; }


@keyframes lb-slideIn {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.info-layer:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5), inset 0 0 10px rgba(255, 255, 255, 0.1);
}

.info-layer h3 {
    font-size: 1.8rem;
    margin: 0;
    color: var(--accent-color);
    text-shadow: 0 0 10px rgba(52, 152, 219, 0.7); /* Glow for name */
}

.info-layer p {
    font-size: 1rem;
    margin: 0;
    color: #C0C0C0;
}

.info-layer strong {
    color: var(--secondary-color);
}

/* Phone Call Section */
.phone-link-container {
    margin-top: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    opacity: 0; /* Hidden for staggered animation */
    transform: translateY(20px);
}

.lightbox.active .phone-link-container {
    animation: lb-slideIn 0.6s ease forwards 0.7s;
}

.call-label { /* Small "Call Now" text */
    font-size: 1rem;
    color: var(--light-color);
    margin-bottom: 5px;
    opacity: 0; /* Hidden for animation */
    transform: translateY(10px);
}
.lightbox.active .call-label { animation: lb-slideIn 0.4s ease forwards 0.8s; }

.phone-number-layer {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 15px 30px;
    background: rgba(255, 255, 255, 0.1); /* Slightly more visible background */
    border: 1px solid rgba(255, 255, 255, 0.2); /* Simple border */
    border-radius: 50px;
    text-decoration: none;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Simpler shadow */
    cursor: pointer;
    transition: all 0.3s ease;
    opacity: 0; /* Hidden for animation */
    transform: translateY(20px) scale(0.9);
    width: 80%;
    max-width: 300px;
    direction: ltr; /* Ensure number displays LTR */
}

.lightbox.active .phone-number-layer {
    animation: lb-slideInScale 0.6s ease forwards 0.9s, phone-number-glow 2s infinite alternate ease-in-out 1.2s; /* Add glow animation */
}

@keyframes phone-number-glow {
    0% { box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 0 0 15px var(--accent-color); }
    100% { box-shadow: 0 15px 35px rgba(0, 0, 0, 0.7), 0 0 25px var(--secondary-color); }
}

.phone-number-layer:hover {
    background: rgba(255, 255, 255, 0.15); /* Slightly more opaque on hover */
    border-image: linear-gradient(45deg, #FF8A65, #FFD54F) 1; /* Reverse gradient on hover */
    transform: translateY(-8px) scale(1.07);
    box-shadow: 0 18px 45px rgba(0, 0, 0, 0.7), 0 0 40px rgba(255, 107, 107, 1);
    animation: none; /* Stop pulsating on hover */
}

.phone-number-layer .phone-icon {
    color: var(--light-color); /* Icon color */
    font-size: 1.2em;
}
.phone-number-layer .phone-number-text {
    font-family: 'Arial', sans-serif;
    font-weight: 700; /* Bold but not too heavy */
    font-size: 1.5rem; /* Keep the size */
    color: white; /* Solid white color */
    text-shadow: none; /* Remove text glow */
}
.tap-to-call-hint {
    font-size: 0.9rem; /* Smaller hint */
    color: #B0B0B0;
    opacity: 0.9;
    margin-top: 10px;
    padding: 8px 15px; /* Added padding */
    background: rgba(255, 255, 255, 0.03); /* Very subtle background */
    border-radius: 8px;
    backdrop-filter: blur(2px); /* Very light blur */
    text-shadow: none; /* Ensure no text shadow */
    opacity: 0; /* Hidden for animation */
    transform: translateY(10px);
}
.lightbox.active .tap-to-call-hint { animation: lb-slideIn 0.4s ease forwards 1s; }


.lightbox-social-links {
    margin-top: 40px;
    display: flex;
    justify-content: center;
    gap: 25px;
    width: 100%;
    position: relative;
    padding-top: 20px;
    opacity: 0; /* Start hidden for staggered animation */
    transform: translateY(20px);
}

.lightbox.active .lightbox-social-links {
    animation: lb-slideIn 0.6s ease forwards 1.1s;
}

.lightbox-social-links::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 90%; /* Wider line */
    height: 3px; /* Thicker line */
    background: linear-gradient(90deg, transparent, #8A2BE2, #FF1493, transparent);
    opacity: 1;
    box-shadow: 0 0 15px rgba(138, 43, 226, 0.7); /* Glow for the line */
}

.lightbox-social-links a.social-icon {
    font-size: 2.8rem; /* Larger icons */
    color: #A0A0A0;
    transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), color 0.4s ease, filter 0.4s ease;
    text-decoration: none;
    display: inline-block;
    opacity: 1;
    transform: translateY(0) rotateY(0);
    filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
}

.lightbox-social-links a.social-icon:hover {
    transform: translateY(-12px) scale(1.3); /* More pronounced lift and scale */
    filter: drop-shadow(0 15px 25px rgba(0,0,0,0.7)); /* Stronger shadow */
}

.lightbox-social-links a.social-icon.facebook-icon:hover { color: #1877F2; filter: drop-shadow(0 15px 25px rgba(24, 119, 242, 0.9)); }
.lightbox-social-links a.social-icon.instagram-icon:hover { color: #E4405F; filter: drop-shadow(0 15px 25px rgba(228, 64, 95, 0.9)); }
.lightbox-social-links a.social-icon.whatsapp-icon:hover { color: #25D366; filter: drop-shadow(0 15px 25px rgba(37, 211, 102, 0.9)); }
.lightbox-social-links a.social-icon.tiktok-icon:hover { color: #000000; filter: drop-shadow(0 15px 25px rgba(0, 0, 0, 0.9)); } /* TikTok black, so a subtle white glow if needed or just strong shadow */

.lightbox-close {
    position: absolute;
    top: 15px;
    left: 15px;
    width: 45px; /* Larger close button */
    height: 45px;
    background: #e74c3c;
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 1.5rem; /* Larger icon */
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    opacity: 0; /* Start hidden for animation */
    transform: scale(0); /* Start scaled down */
}

.lightbox.active .lightbox-close {
    animation: lb-slideInScale 0.6s ease forwards 1.2s; /* Use slide in scale for close button */
}

.lightbox-close:hover {
    background: #c0392b;
    transform: rotate(90deg) scale(1.1);
}
    /* زر الإجراء العائم (FAB) لتصفح المحافظات */
    .fab-container-browse {
        position: fixed;
        bottom: 25px;
        left: 25px;
        z-index: 950;
        display: flex;
        flex-direction: column-reverse;
        align-items: flex-start;
    }

    .fab-button-browse {
        padding: 13px 22px;
        border-radius: 50px;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        color: white;
        border: none;
        font-size: 1.05rem;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        display: flex;
        justify-content: center;
        align-items: center;
        transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55),
                                 box-shadow 0.3s ease;
        position: relative;
        z-index: 10;
        animation: float-pulse 2s infinite alternate ease-in-out; /* حركة طفو ونبض */
    }

    /* حركة الطفو والنبض لزر FAB */
    @keyframes float-pulse {
        0% {
            transform: translateY(0);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }
        50% {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.5);
        }
        100% {
            transform: translateY(0);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }
    }

    .fab-button-browse:hover {
        transform: translateY(-7px) scale(1.04);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        animation: none; /* إيقاف الحركة عند التمرير */
    }

    /* قائمة FAB (المحافظات) */
    .fab-menu-browse {
        display: flex;
        flex-direction: column; /* عمودي */
        gap: 10px;
        position: absolute;
        bottom: 70px;
        align-items: flex-start;
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px) scale(0.9);
        transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        padding: 10px;
        background: rgba(42, 45, 59, 0.85);
        border-radius: 15px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        transform-origin: bottom left;
        max-width: 180px;
        left: 0;
        right: unset;
    }

    .fab-menu-browse.active {
        opacity: 1;
        visibility: visible;
        transform: translateY(0) scale(1);
    }

    .fab-menu-item-browse {
        background: var(--glass-effect);
        border: 1px solid rgba(255,255,255,0.1);
        color: var(--light-color);
        padding: 8px 15px;
        border-radius: 20px;
        text-decoration: none;
        font-weight: 500;
        font-size: 0.8rem; /* حجم خط أصغر */
        white-space: nowrap;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        transition: all 0.2s ease-out;
        opacity: 0;
        transform: translateX(-10px);
        width: 100%;
        text-align: right;
    }

    .fab-menu-browse.active .fab-menu-item-browse {
        opacity: 1;
        transform: translateX(0);
    }

    .fab-menu-item-browse:hover {
        background: rgba(232, 62, 140, 0.2);
        border-color: rgba(232, 62, 140, 0.3);
        transform: translateX(5px);
    }
    
    /* تذييل الصفحة (Footer) */
    footer {
        background-color: var(--dark-color);
        color: var(--light-color);
        text-align: center;
        padding: 50px 25px 35px;
        margin-top: 40px;
        direction: rtl;
    }

    .footer-content {
        max-width: 700px;
        margin: 0 auto;
    }

    .footer-logo {
        font-size: 1.8rem;
        font-weight: 700;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 1.2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }

    .social-links {
        margin-top: 1.8rem;
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
    }

    .social-links a {
        display: inline-block;
        color: var(--light-color);
        font-size: 1.4rem;
        margin: 0 10px;
        transition: var(--transition);
    }

    .social-links a:hover {
        color: var(--accent-color);
        transform: translateY(-4px);
    }

    .copyright {
        margin-top: 1.5rem;
        opacity: 0.8;
        font-size: 0.9rem;
    }

    /* التصميم المتجاوب (Responsive Design) */
    @media (max-width: 1200px) {
        body { font-size: 0.92rem; }
        .hero-content .main-description { font-size: 1.15rem; }
        .animated-text-layer p { font-size: 0.9rem; }
        .section-title {
            font-size: 2.1rem;
        }
        .gallery-grid {
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        }
        .islamic-feature-image {
            max-width: 400px; /* يمكن التحكم في الحجم هنا بشكل متجاوب إذا لم يكن الحجم الطبيعي مناسبًا */
        }
        .quranic-line {
            font-size: 1.6rem;
        }
        .vision-text {
            font-size: 1rem;
        }
        /* تعديلات متجاوبة للحاوية الرئيسية الجديدة */
        .main-call-to-action-text-container {
            padding: 25px;
            margin: 35px auto;
        }
        .main-call-to-action-text-container .section-heading-new {
            font-size: 1.7rem;
        }
        .main-call-to-action-text-container .text-layer {
            padding: 18px;
        }
        .main-call-to-action-text-container .text-layer p {
            font-size: 0.95rem;
        }
        #browse-provinces-instruction {
            font-size: 1.1rem;
            padding: 12px 25px;
        }
        /* Lightbox responsive adjustments */
        .lightbox-content { max-width: 380px; padding: 35px 25px; }
        .lightbox-driver-img-wrapper { width: 160px; height: 160px; margin-bottom: 25px; }
        .info-layer h3 { font-size: 1.6rem; }
        .info-layer p { font-size: 0.95rem; }
        .call-label { font-size: 0.9rem; }
        .phone-number-layer { font-size: 1.2rem; padding: 12px 25px; max-width: 280px; }
        .phone-number-layer .phone-number-text { font-size: 1.4rem; }
        .tap-to-call-hint { font-size: 0.85rem; }
        .lightbox-social-links a.social-icon { font-size: 2.3rem; }
    }

    @media (max-width: 992px) {
        body { font-size: 0.9rem; }
        .hero-content h1 {
            font-size: 2.6rem;
        }
        .hero-content .main-description {
            font-size: 1.05rem;
        }
        .animated-text-layer p {
            font-size: 0.88rem;
        }
        .hero-end-text-container {
            font-size: 1.15rem;
            padding: 12px 20px;
        }
        .islamic-feature-image {
            max-width: 350px; /* يمكن التحكم في الحجم هنا بشكل متجاوب */
        }
        .quranic-line {
            font-size: 1.4rem;
        }
        .vision-text {
            font-size: 0.95rem;
        }
        .call-label { font-size: 0.85rem; }
        .phone-number-layer { /* Adjusted for responsive */
            padding: 10px 20px;
            font-size: 1.1rem;
            min-width: 200px;
        }
        .phone-number-layer .phone-number-text { font-size: 1.3rem; }
        .tap-to-call-hint {
            font-size: 0.75rem;
        }
        .lightbox-social-links a {
            font-size: 1.8rem;
        }
        /* تعديلات متجاوبة للحاوية الرئيسية الجديدة */
        .main-call-to-action-text-container {
            padding: 20px;
            margin: 30px auto;
        }
        .main-call-to-action-text-container .section-heading-new {
            font-size: 1.6rem;
        }
        .main-call-to-action-text-container .text-layer {
            padding: 18px;
        }
        .main-call-to-action-text-container .text-layer p {
            font-size: 0.92rem;
        }
        #browse-provinces-instruction {
            font-size: 1rem;
            padding: 10px 20px;
        }
        /* Lightbox responsive adjustments */
        .lightbox-content { max-width: 340px; padding: 30px 20px; }
        .lightbox-driver-img-wrapper { width: 140px; height: 140px; margin-bottom: 20px; }
        .info-layer h3 { font-size: 1.5rem; }
        .info-layer p { font-size: 0.9rem; }
        .phone-number-layer { font-size: 1.1rem; padding: 10px 22px; max-width: 250px; }
        .phone-number-layer .phone-number-text { font-size: 1.2rem; }
        .tap-to-call-hint { font-size: 0.8rem; }
        .lightbox-social-links a.social-icon { font-size: 2.1rem; gap: 20px;}
    }

    @media (max-width: 768px) {
        body { font-size: 0.88rem; }
        .logo {
            font-size: 2.5rem;
        }
        .logo .delivery-icon {
            font-size: 0.8em;
        }
        .nav-logo {
            font-size: 1.4rem;
        }
        .nav-logo .delivery-icon {
            font-size: 0.9em;
        }
        .footer-logo {
            font-size: 1.6rem;
        }
        .footer-logo .delivery-icon {
            font-size: 0.9em;
        }
        .hero-content h1 {
            font-size: 2rem;
        }
        .hero-content .main-description {
            font-size: 0.85rem;
        }
        .animated-text-layer {
            padding: 12px 18px;
        }
        .animated-text-layer p {
            font-size: 0.82rem;
        }
        .hero-end-text-container {
            font-size: 1rem;
            padding: 8px 15px;
        }
        .islamic-feature-image {
            max-width: 300px; /* يمكن التحكم في الحجم هنا بشكل متجاوب */
        }
        .quranic-line {
            font-size: 1.2rem;
            margin-top: 20px;
        }
        .vision-text {
            font-size: 0.95rem;
        }
        .section-title {
            font-size: 1.8rem;
        }
        .gallery-grid {
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
        }
        .lightbox-close {
            top: 10px;
            left: 10px;
            width: 30px;
            height: 30px;
            font-size: 1rem;
        }

        .fab-button-browse {
            padding: 10px 18px;
            font-size: 0.9rem;
        }
        .fab-container-browse {
            bottom: 20px;
            left: 20px;
        }

        .fab-menu-browse {
            flex-direction: column;
            bottom: 60px;
            gap: 8px;
            padding: 6px;
            max-width: 150px; /* لتحديد أقصى عرض للقائمة على الشاشات الأصغر */
            left: 0;
            right: unset;
            transform-origin: bottom left;
        }
        .fab-menu-item-browse {
            font-size: 0.75rem;
            padding: 6px 12px;
            margin: 0;
            transition-delay: 0s !important;
        }
        .fab-menu-browse.active .fab-menu-item-browse {
            animation: none !important;
            transform: translateX(0);
        }
        .fab-menu-item-browse:hover {
            transform: translateX(2px);
        }

        footer {
            padding: 40px 20px 30px;
        }
        .social-links a {
            font-size: 1.3rem;
            margin: 0 8px;
        }
        .copyright {
            font-size: 0.85rem;
        }
        /* تعديلات متجاوبة للحاوية الرئيسية الجديدة */
        .main-call-to-action-text-container {
            padding: 15px;
            margin: 25px auto;
        }
        .main-call-to-action-text-container .section-heading-new {
            font-size: 1.4rem;
        }
        .main-call-to-action-text-container .text-layer {
            padding: 12px;
        }
        .main-call-to-action-text-container .text-layer p {
            font-size: 0.9rem;
        }
        #browse-provinces-instruction {
            font-size: 0.8rem;
            padding: 7px 12px;
        }
        /* Lightbox responsive adjustments */
        .lightbox-content { max-width: 300px; padding: 25px 15px; }
        .lightbox-driver-img-wrapper { width: 120px; height: 120px; margin-bottom: 15px; }
        .info-layer { padding: 10px 15px; }
        .info-layer h3 { font-size: 1.3rem; }
        .info-layer p { font-size: 0.85rem; }
        .call-label { font-size: 0.8rem; }
        .phone-number-layer { font-size: 1rem; padding: 8px 18px; max-width: 220px; }
        .phone-number-layer .phone-number-text { font-size: 1.1rem; }
        .tap-to-call-hint { font-size: 0.75rem; }
        .lightbox-social-links a.social-icon { font-size: 1.8rem; gap: 15px; }
        .lightbox-social-links { margin-top: 25px; padding-top: 15px; }
    }

    @media (max-width: 576px) {
        body { font-size: 0.82rem; }
        .logo {
            font-size: 2rem;
        }
        .hero-content h1 {
            font-size: 1.6rem;
        }
        .hero-content .main-description {
            font-size: 0.8rem;
        }
        .animated-text-layer p {
            font-size: 0.78rem;
        }
        .hero-end-text-container {
            font-size: 0.9rem;
            padding: 8px 15px;
        }
        .islamic-feature-image {
            max-width: 250px; /* يمكن التحكم في الحجم هنا بشكل متجاوب */
        }
        .quranic-line {
            font-size: 1rem;
            margin-top: 20px;
        }
        .vision-text {
            font-size: 0.85rem;
        }
        .section-title {
            font-size: 1.6rem;
        }
        .gallery-grid {
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 10px;
        }
        .fab-menu-browse {
            max-width: 120px; /* لتحديد أقصى عرض للقائمة على الشاشات الأصغر جداً */
            padding: 5px;
            gap: 5px;
        }
        .fab-menu-item-browse {
            font-size: 0.65rem;
            padding: 5px 8px;
            margin: 0;
            transition-delay: 0s !important;
        }
        .fab-menu-browse.active .fab-menu-item-browse {
            animation: none !important;
            transform: translateX(0);
        }
        .fab-menu-item-browse:hover {
            transform: translateX(2px);
        }
        #browse-provinces-instruction {
            font-size: 0.8rem;
            padding: 7px 12px;
        }
        /* Lightbox responsive adjustments */
        .lightbox-content { max-width: 280px; padding: 20px 10px; }
        .lightbox-driver-img-wrapper { width: 100px; height: 100px; margin-bottom: 10px; }
        .info-layer { padding: 8px 12px; }
        .info-layer h3 { font-size: 1.2rem; }
        .info-layer p { font-size: 0.8rem; }
        .call-label { font-size: 0.75rem; }
        .phone-number-layer { font-size: 0.9rem; padding: 7px 15px; max-width: 190px; }
        .phone-number-layer .phone-number-text { font-size: 1.0rem; }
        .tap-to-call-hint { font-size: 0.7rem; }
        .lightbox-social-links a.social-icon { font-size: 1.6rem; gap: 10px; }
        .lightbox-social-links { margin-top: 20px; padding-top: 10px; }
    }
    </style>
</head>
<body>
    <div class="splash-screen" id="splashScreen">
        <div class="logo">
            أطلب خدمات المطاعم
            <i class="fas fa-box-open delivery-icon"></i> </div>
        <div class="loading-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
    </div>

    <div class="app-container" id="appContainer" style="display: none;">
        <nav class="nav-container">
            <div class="nav-logo">
                أطلب خدمات المطاعم
                <i class="fas fa-box-open delivery-icon"></i> </div>
        </nav>

        <section class="hero-section">
            <div class="hero-content">
                <h1>بسم الله الرحمن الرحيم</h1>
                <p class="main-description">وجهتكم الموثوقة من أجل ربطكم بأمهر مقدّمي الخدمات في جميع محافظات العراق سعياً لخدمتكم وتيسير أموركم بفضل الله.</p>
                <div class="animated-text-container">
                    <div class="animated-text-layer">
                        <p>
                            في ظل التوسع المتسارع في أنماط الحياة والاحتياجات اليومية داخل العراق، تبرز الحاجة إلى منصة تجمع بين الكفاءة والجهات المستفيدة وتُيسّر على إخواننا وأخواتنا الوصول إلى خدمات متنوّعة بكفاءة عالية وتربط بين أصحاب الهمم العالية من مقدّمي الخدمات والجهات المستفيدة من شركات وأفراد، نفعاً للجميع.
                        </p>
                    </div>
                    <div class="animated-text-layer">
                        <p>
                            نتعاون معكم على البر والتقوى ونسعى لإنشاء شبكة مباركة من المهنيين والعاملين في هذا المجال، هدفنا الأسمى:
                        </p>
                    </div>
                    <div class="animated-text-layer">
                        <p>
                            - تمكين الطاقات الشبابية في المجالات المتعددة راجين من الله التوفيق والسداد.
                        </p>
                    </div>
                    <div class="animated-text-layer">
                        <p>
                            - بناء قاعدة شاملة لمقدّمي الخدمات وفق معايير مهنية واضحة، لتسهيل تواصل الجهات المستفيدة معهم في كل محافظة، تيسيراً للأمور
                        </p>
                    </div>
                </div>

                <div class="islamic-feature-area">
                    <img src="sss.jpg" alt="خدمة المطاعم" class="islamic-feature-image">
                    <p class="quranic-line">
                        رِجَالٌ لَا تُلْهِيهِمْ تِجَارَةٌ وَلَا بَيْعٌ عَنْ ذِكْرِ اللَّهِ
                    </p>
                    <p class="vision-text">معاً نحو مستقبل أفضل</p>
                </div>
                
                <div class="main-call-to-action-text-container" id="mainCallToActionText">
                    <p class="section-heading-new">
                        قسم خدمات المطاعم قطاع العراق الخاص
                    </p>
                    <div class="text-layer" id="text-layer-1">
                        <p>
                            هل تمتلك خبرة أو تطمح للعمل في مجال الخدمات المطاعم؟
                        </p>
                    </div>
                    <div class="text-layer" id="text-layer-2">
                        <p>
                            انضم الآن إلى قائمة العاملين في هذا المجال ضمن محافظتك.
                        </p>
                    </div>
                    <div class="text-layer" id="text-layer-3">
                        <p>
                            القطاع الخاص هو محرك التنمية ومصدر الفرص الحقيقية بعيداً عن أي جهة حكومية أو سياسية.
                        </p>
                    </div>
                    <div class="text-layer" id="text-layer-4">
                        <p>
                            هذه المنصة العراقية الرسمية تكون حلقة وصل مباشرة بين مزوّدي الخدمات والجهات الباحثة عنها. نُسهّل على الجهات المحتاجة الوصول إلى أصحاب المهارات في هذا المجال.
                        </p>
                    </div>
                    <div class="text-layer" id="text-layer-5">
                        <p>
                            كما نُسهّل على مقدّمي الخدمات عرض خبراتهم دون عناء البحث.
                        </p>
                    </div>
                    <div class="text-layer" id="browse-provinces-instruction">
         سجّل اسمك في الخدمة داخل المحافظة.</strong>
        </p>
    </div>

    <div class="transparent-footer-hint" id="browse-hint">
        <p>
            الآن <strong class=د >اضغط على زر "تصفح المحافظات"</strong> أسفل يسار الشاشة من أجل عرض مقدمين الخدمة.
        </p>
    </div>
</div>

                <div class="hero-end-text-container" id="heroEndTextContainer">
                    للعثور على السائق الأنسب لكم، تفضلوا **بالضغط على زر "تصفح المحافظات"** في الأسفل.
                </div>
            </div>
        </section>

        <main class="main-content">
            <section id="anbar-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري الأنبار</h2>
                <div class="gallery-grid" id="anbarDriversGallery"></div>
            </section>
            <section id="babil-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري بابل</h2>
                <div class="gallery-grid" id="babilDriversGallery"></div>
            </section>
            <section id="baghdad-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري بغداد</h2>
                <div class="gallery-grid" id="baghdadDriversGallery"></div>
            </section>
            <section id="basra-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري البصرة</h2>
                <div class="gallery-grid" id="basraDriversGallery"></div>
            </section>
            <section id="duhok-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري دهوك</h2>
                <div class="gallery-grid" id="duhokDriversGallery"></div>
            </section>
            <section id="diyala-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري ديالى</h2>
                <div class="gallery-grid" id="diyalaDriversGallery"></div>
            </section>
            <section id="dhiqar-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري ذي قار</h2>
                <div class="gallery-grid" id="dhiqarDriversGallery"></div>
            </section>
            <section id="erbil-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري أربيل</h2>
                <div class="gallery-grid" id="erbilDriversGallery"></div>
            </section>
            <section id="karbala-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري كربلاء</h2>
                <div class="gallery-grid" id="karbalaDriversGallery"></div>
            </section>
            <section id="kirkuk-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري كركوك</h2>
                <div class="gallery-grid" id="kirkukDriversGallery"></div>
            </section>
            <section id="maysan-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري ميسان</h2>
                <div class="gallery-grid" id="maysanDriversGallery"></div>
            </section>
            <section id="muthanna-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري المثنى</h2>
                <div class="gallery-grid" id="muthannaDriversGallery"></div>
            </section>
            <section id="najaf-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري النجف</h2>
                <div class="gallery-grid" id="najafDriversGallery"></div>
            </section>
            <section id="ninawa-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري نينوى</h2>
                <div class="gallery-grid" id="ninawaDriversGallery"></div>
            </section>
            <section id="qadisiyah-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري القادسية</h2>
                <div class="gallery-grid" id="qadisiyahDriversGallery"></div>
            </section>
            <section id="salahaddin-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري صلاح الدين</h2>
                <div class="gallery-grid" id="salahaddinDriversGallery"></div>
            </section>
            <section id="sulaymaniyah-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري السليمانية</h2>
                <div class="gallery-grid" id="sulaymaniyahDriversGallery"></div>
            </section>
            <section id="wasit-drivers-section" class="category-section">
                <h2 class="section-title">سائقو دلفري واسط</h2>
                <div class="gallery-grid" id="wasitDriversGallery"></div>
            </section>
        </main>

        <div class="fab-container-browse" id="fab-container-browse">
            <button class="fab-button-browse" id="fabButtonBrowse">
                تصفح المحافظات
            </button>
            <div class="fab-menu-browse" id="fabMenuBrowse">
                </div>
        </div>

        <footer>
            <div class="footer-content">
                <div class="footer-logo">
                    أطلب خدمات المطاعم
                    <i class="fas fa-box-open delivery-icon"></i> </div>
                <div class="social-links">
                    <a href="https://www.facebook.com/share/16LHkHK12Q/" aria-label="فيسبوك" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/iraq.private.sector?igsh=MWZ2aTk3eTh0MXgzMw==" aria-label="انستغرام" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://wa.me/9647778684131" aria-label="واتساب" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    <a href="https://www.tiktok.com/@iraq.private.sector?_t=ZS-8xpVT0WfOTq&_r=1" aria-label="تيك توك" target="_blank"><i class="fab fa-tiktok"></i></a>
                </div>
                <p class="copyright">© 2025 أطلب خدمات المطاعم. جميع الحقوق محفوظة.</p>
            </div>
        </footer>
    </div>

    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <div class="lightbox-driver-img-wrapper">
                <img class="lightbox-driver-img" id="lightboxDriverImg" src="" alt="صورة السائق">
            </div>
            <div class="lightbox-info">
                <h3 id="lightboxDriverName" class="info-layer lightbox-driver-name"></h3>
                <p class="info-layer lightbox-driver-age"><strong>العمر:</strong> <span id="lightboxDriverAgeSpan"></span></p>
                <div class="info-layer lightbox-driver-description" id="lightboxDriverDescription"></div>
                
                <div class="phone-link-container">
                    <span class="call-label">اتصل الآن:</span>
                    <a id="callPhoneButton" href="#" dir="ltr" class="phone-number-layer">
                        <i class="fas fa-phone-alt phone-icon"></i> <span class="phone-number-text" id="lightboxDriverPhoneNumber"></span>
                    </a>
                    <span class="tap-to-call-hint">اضغط على رقم الهاتف وسيتم تحويلك مباشرة إلى الهاتف تلقائياً</span>
                </div>

                <div class="lightbox-social-links">
                    <a id="lightboxDriverFacebook" href="#" target="_blank" class="social-icon facebook-icon" style="display:none;"><i class="fab fa-facebook-f"></i></a>
                    <a id="lightboxDriverInstagram" href="#" target="_blank" class="social-icon instagram-icon" style="display:none;"><i class="fab fa-instagram"></i></a>
                    <a id="lightboxDriverWhatsApp" href="#" target="_blank" class="social-icon whatsapp-icon" style="display:none;"><i class="fab fa-whatsapp"></i></a>
                    <a id="lightboxDriverTikTok" href="#" target="_blank" class="social-icon tiktok-icon" style="display:none;"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
            <button class="lightbox-close" id="lightboxClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // بيانات السائقين (مع مسارات صور N1.jpg إلى N7.jpg)
            const baseDrivers = [
                { name: "علي كريم", age: 28, bikeType: "هوندا CB125", description: "أقدّم خدماتي باحترافية عالية، والتزام تام بالمواعيد، مع خبرة واسعة في المجال، وقدرة على تلبية احتياجات العملاء في مختلف مناطق المحافظة بكفاءة وجودة", image: "N1.jpg", social: { facebook: "https://www.facebook.com/example.fb1", whatsapp: "9647778684131", tiktok: "https://www.tiktok.com/@example_tiktok1" } },
                { name: "حسن فؤاد", age: 32, bikeType: "سوزوكي GS150", description: "أقدّم خدماتي باحترافية عالية، والتزام تام بالمواعيد، مع خبرة واسعة في المجال، وقدرة على تلبية احتياجات العملاء في مختلف مناطق المحافظة بكفاءة وجودة", image: "N2.jpg", social: { instagram: "https://www.instagram.com/example_insta2", whatsapp: "9647778684131" } },
                { name: "عباس خليل", age: 25, bikeType: "ياماها YBR125", description: "أقدّم خدماتي باحترافية عالية، والتزام تام بالمواعيد، مع خبرة واسعة في المجال، وقدرة على تلبية احتياجات العملاء في مختلف مناطق المحافظة بكفاءة وجودة", image: "N3.jpg", social: { facebook: "https://www.facebook.com/example.fb3", instagram: "https://www.instagram.com/example_ig3", whatsapp: "9647778684131" } },
                { name: "حيدر علي", age: 30, bikeType: "كيواي سوبرلايت", description: "أقدّم خدماتي باحترافية عالية، والتزام تام بالمواعيد، مع خبرة واسعة في المجال، وقدرة على تلبية احتياجات العملاء في مختلف مناطق المحافظة بكفاءة وجودة", image: "N4.jpg", social: { tiktok: "https://www.tiktok.com/@example_tiktok4", whatsapp: "9647778684131" } },
                { name: "أحمد جاسم", age: 29, bikeType: "دايون 150", description: "أقدّم خدماتي باحترافية عالية، والتزام تام بالمواعيد، مع خبرة واسعة في المجال، وقدرة على تلبية احتياجات العملاء في مختلف مناطق المحافظة بكفاءة وجودة", image: "N5.jpg", social: { facebook: "https://www.facebook.com/example.fb5", whatsapp: "9647778684131" } },
                { name: "محمد صادق", age: 35, bikeType: "بجاج بولسار", description: "أقدّم خدماتي باحترافية عالية، والتزام تام بالمواعيد، مع خبرة واسعة في المجال، وقدرة على تلبية احتياجات العملاء في مختلف مناطق المحافظة بكفاءة وجودة", image: "N6.jpg", social: { facebook: "https://www.facebook.com/example.fb6", whatsapp: "9647778684131" } },
                { name: "زياد عامر", age: 27, bikeType: "تي في اس أباتشي", description: "أقدّم خدماتي باحترافية عالية، والتزام تام بالمواعيد، مع خبرة واسعة في المجال، وقدرة على تلبية احتياجات العملاء في مختلف مناطق المحافظة بكفاءة وجودة", image: "N7.jpg", social: { facebook: "https://www.facebook.com/example.fb7", whatsapp: "9647778684131" } }
            ];

            let driversData = [];
            let currentDriverId = 1;

            // تصنيفات المحافظات: سيتم فرزها في JavaScript لضمان الترتيب الأبجدي العربي
            const orderedGovernorates = [
                { id: 'anbar-drivers-section', name: 'الأنبار' },
                { id: 'babil-drivers-section', name: 'بابل' },
                { id: 'baghdad-drivers-section', name: 'بغداد' },
                { id: 'basra-drivers-section', name: 'البصرة' },
                { id: 'duhok-drivers-section', name: 'دهوك' },
                { id: 'diyala-drivers-section', name: 'ديالى' },
                { id: 'dhiqar-drivers-section', name: 'ذي قار' },
                { id: 'erbil-drivers-section', name: 'أربيل' },
                { id: 'karbala-drivers-section', name: 'كربلاء' },
                { id: 'kirkuk-drivers-section', name: 'كركوك' },
                { id: 'maysan-drivers-section', name: 'ميسان' },
                { id: 'muthanna-drivers-section', name: 'المثنى' },
                { id: 'najaf-drivers-section', name: 'النجف' },
                { id: 'ninawa-drivers-section', name: 'نينوى' },
                { id: 'qadisiyah-drivers-section', name: 'القادسية' },
                { id: 'salahaddin-drivers-section', name: 'صلاح الدين' },
                { id: 'sulaymaniyah-drivers-section', name: 'السليمانية' },
                { id: 'wasit-drivers-section', name: 'واسط' },
            ].sort((a, b) => a.name.localeCompare(b.name, 'ar', { sensitivity: 'base' })); // فرز أبجدي عربي

            // Generate drivers data for each governorate
            orderedGovernorates.forEach(gov => {
                baseDrivers.forEach(baseDriver => {
                    // Create a deep copy of the base driver to avoid reference issues
                    const newDriver = JSON.parse(JSON.stringify(baseDriver));
                    newDriver.id = currentDriverId++;
                    newDriver.governorate = gov.name;
                    // All phone numbers are now fixed to 07778684131
                    newDriver.phone = '07778684131';
                    
                    // Update social media links to reflect the new fixed phone number for WhatsApp
                    if (newDriver.social.whatsapp) {
                        newDriver.social.whatsapp = '9647778684131'; // Fixed WhatsApp number
                    }
                    if (newDriver.social.facebook) {
                        newDriver.social.facebook = newDriver.social.facebook.replace(/\d+$/, newDriver.id);
                    }
                    if (newDriver.social.instagram) {
                        newDriver.social.instagram = newDriver.social.instagram.replace(/\d+$/, newDriver.id);
                    }
                    if (newDriver.social.tiktok) {
                        newDriver.social.tiktok = newDriver.social.tiktok.replace(/\d+$/, newDriver.id);
                    }

                    driversData.push(newDriver);
                });
            });

            const categoryMapping = orderedGovernorates.reduce((acc, curr) => {
                acc[curr.id] = curr.name;
                return acc;
            }, {});

            // العناصر الرئيسية التي نتعامل معها
            const splashScreen = document.getElementById('splashScreen');
            const appContainer = document.getElementById('appContainer');
            const loadingBar = document.getElementById('loadingBar');
            const lightbox = document.getElementById('lightbox');
            const lightboxDriverImg = document.getElementById('lightboxDriverImg');
            const lightboxDriverName = document.getElementById('lightboxDriverName');
            const lightboxDriverAgeSpan = document.getElementById('lightboxDriverAgeSpan');
            const lightboxDriverDescription = document.getElementById('lightboxDriverDescription');
            const callPhoneButton = document.getElementById('callPhoneButton'); // The combined phone link
            const lightboxDriverPhoneNumber = document.getElementById('lightboxDriverPhoneNumber'); // Span inside the combined button
            const callLabel = document.querySelector('.call-label'); // The new "Call Now:" label
            const tapToCallHint = document.querySelector('.tap-to-call-hint'); // Get the hint element

            const lightboxDriverFacebook = document.getElementById('lightboxDriverFacebook');
            const lightboxDriverInstagram = document.getElementById('lightboxDriverInstagram');
            const lightboxDriverWhatsApp = document.getElementById('lightboxDriverWhatsApp');
            const lightboxDriverTikTok = document.getElementById('lightboxDriverTikTok');
            const lightboxClose = document.getElementById('lightboxClose');
            
            // عناصر زر الإجراء العائم (FAB)
            const fabButtonBrowse = document.getElementById('fabButtonBrowse');
            const fabMenuBrowse = document.getElementById('fabMenuBrowse');
            const heroEndTextContainer = document.getElementById('heroEndTextContainer'); // الحصول على حاوية نص التوجيه
            const mainCallToActionText = document.getElementById('mainCallToActionText'); // الحصول على حاوية النص الطويل الجديد


            // تهيئة الصفحة بعد شاشة البداية
            function init() {
                loadingBar.style.width = '100%';
                setTimeout(() => {
                    splashScreen.classList.add('hidden');
                    appContainer.style.display = 'block';
                    document.querySelector('.hero-section').scrollIntoView({ behavior: 'smooth' });
                }, 2500); // إجمالي وقت شاشة البداية
            }

            // وظيفة تحميل معرض السائقين بناءً على المحافظة
            function loadDriversGallery(governorateId) {
                const galleryElement = document.getElementById(governorateId);
                if (!galleryElement) return;

                galleryElement.innerHTML = ''; // مسح المحتوى القديم

                const governorateName = categoryMapping[governorateId];
                const filteredDrivers = driversData.filter(driver => driver.governorate === governorateName);

                if (filteredDrivers.length > 0) {
                    filteredDrivers.forEach(driver => {
                        const driverCard = document.createElement('div');
                        driverCard.classList.add('gallery-item');
                        driverCard.dataset.driverId = driver.id; // لتخزين ID السائق

                        driverCard.innerHTML = `
                            <div class="gallery-img-wrapper">
                                <img class="gallery-img" src="${driver.image}" alt="صورة ${driver.name}">
                                <div class="img-overlay"></div>
                            </div>
                            <div class="driver-info-preview">
                                <h3>${driver.name}</h3>
                                <p>العمر: ${driver.age || 'غير متوفر'}</p>
                            </div>
                        `;

                        // عند الضغط على البطاقة، افتح اللايت بوكس مع تفاصيل السائق
                        driverCard.addEventListener('click', () => openLightbox(driver.id));
                        galleryElement.appendChild(driverCard);
                    });
                } else {
                    galleryElement.innerHTML = `<p style="text-align: center; color: #555; font-size: 1.2em;">لا يوجد سائقو دلفري متاحون في ${governorateName} حالياً.</p>`;
                }
            }

            // فتح اللايت بوكس وعرض تفاصيل السائق
            function openLightbox(driverId) {
                const driver = driversData.find(d => d.id === driverId);

                if (driver) {
                    lightboxDriverImg.src = driver.image;
                    lightboxDriverName.textContent = driver.name;
                    lightboxDriverAgeSpan.textContent = driver.age || 'غير متوفر';
                    lightboxDriverDescription.textContent = driver.description || 'لا يوجد وصف متاح لهذا السائق.';
                    
                    // Set phone number for the combined button
                    callPhoneButton.href = `tel:${driver.phone}`;
                    lightboxDriverPhoneNumber.textContent = driver.phone;

                    // إخفاء جميع روابط التواصل الاجتماعي أولاً
                    lightboxDriverFacebook.style.display = 'none';
                    lightboxDriverInstagram.style.display = 'none';
                    lightboxDriverWhatsApp.style.display = 'none';
                    lightboxDriverTikTok.style.display = 'none';

                    // عرض روابط التواصل الاجتماعي إذا كانت متاحة
                    if (driver.social) {
                        if (driver.social.facebook) {
                            lightboxDriverFacebook.href = driver.social.facebook;
                            lightboxDriverFacebook.style.display = 'inline-block';
                        }
                        if (driver.social.instagram) {
                            lightboxDriverInstagram.href = driver.social.instagram;
                            lightboxDriverInstagram.style.display = 'inline-block';
                        }
                        if (driver.social.whatsapp) {
                            lightboxDriverWhatsApp.href = `https://wa.me/${driver.social.whatsapp.replace(/\+/g, '').replace(/\s/g, '')}`;
                            lightboxDriverWhatsApp.style.display = 'inline-block';
                        }
                        if (driver.social.tiktok) {
                            lightboxDriverTikTok.href = driver.social.tiktok;
                            lightboxDriverTikTok.style.display = 'inline-block';
                        }
                    }
                    
                    lightbox.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            }

            // إغلاق اللايت بوكس
            function closeLightbox() {
                lightbox.classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            // وظيفة ديناميكية لإنشاء أزرار المحافظات وفرزها
            function createProvinceButtons() {
                fabMenuBrowse.innerHTML = '';
                orderedGovernorates.forEach((gov, index) => {
                    const button = document.createElement('button');
                    button.classList.add('fab-menu-item-browse');
                    button.dataset.section = gov.id;
                    button.textContent = gov.name;
                    // تطبيق تأخير الحركة المتتالية فقط على الشاشات الأكبر
                    if (window.matchMedia("(min-width: 769px)").matches) {
                        button.style.transitionDelay = `${0.03 * (index + 1)}s`;
                    }
                    button.addEventListener('click', () => {
                        changeSection(gov.id);
                    });
                    fabMenuBrowse.appendChild(button);
                });
            }

            // تغيير القسم (المحافظة) النشط
            function changeSection(sectionId) {
                document.querySelectorAll('.category-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                const targetSection = document.getElementById(sectionId);
                if (targetSection) {
                    targetSection.classList.add('active');
                    loadDriversGallery(sectionId);
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }
                fabMenuBrowse.classList.remove('active');
                // إخفاء حاوية نص التوجيه عند فتح قسم جديد
                heroEndTextContainer.classList.add('hidden');
                // إخفاء النص الطويل الجديد عند فتح قسم جديد
                mainCallToActionText.classList.add('hidden');
            }

            // إضافة مستمعي الأحداث (Event Listeners)
            lightboxClose.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });

            // تبديل قائمة FAB عند الضغط على الزر الرئيسي
            fabButtonBrowse.addEventListener('click', () => {
                fabMenuBrowse.classList.toggle('active');
            });

            // إغلاق قائمة FAB إذا تم النقر خارجها
            document.addEventListener('click', (e) => {
                const fabBrowseContainer = document.getElementById('fab-container-browse');
                if (fabBrowseContainer && !fabBrowseContainer.contains(e.target) && fabMenuBrowse.classList.contains('active')) {
                    fabMenuBrowse.classList.remove('active');
                }
            });

            // بدء تهيئة التطبيق
            init();

            // إنشاء أزرار المحافظات وفرزها عند تحميل الصفحة
            createProvinceButtons();

            // تحميل بيانات السائقين لجميع الأقسام افتراضياً (لكن الأقسام تظل مخفية)
            // هذا يضمن أن البيانات جاهزة للعرض بمجرد النقر على زر المحافظة
            for (const section of orderedGovernorates) {
                loadDriversGallery(section.id);
            }
            // التأكد من عدم وجود أي قسم نشط افتراضياً عند التحميل لتجنب ظهور الصور مباشرة
            document.getElementById('baghdad-drivers-section').classList.remove('active');
        });
    </script>
</body>
</html>